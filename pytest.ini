[pytest]
pythonpath = ["src", "infra", "adapters"]
addopts = -q --cov --cov-report=term-missing --cov-fail-under=25
testpaths = tests
norecursedirs = .venv venv build dist .git __pycache__ tests/archived
filterwarnings =
    # PyMuPDF (fitz) emits SWIG DeprecationWarnings when importing its C extensions.
    ignore:.*SwigPyPacked has no __module__ attribute.*:DeprecationWarning
    ignore:.*SwigPyObject has no __module__ attribute.*:DeprecationWarning
    ignore:.*swigvarlink has no __module__ attribute.*:DeprecationWarning
    # ResourceWarning de sqlite3.Connection em httpx/_urlparse.py (biblioteca externa)
    # Aparece apenas com coverage ativo. Conexões no código do projeto já estão sendo fechadas corretamente.
    ignore:unclosed database in <sqlite3.Connection.*:ResourceWarning
