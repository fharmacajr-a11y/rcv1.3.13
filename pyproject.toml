[tool.ruff]
src = ["src", "tests"]
line-length = 120
target-version = "py313"
select = ["E", "F"]
ignore = [
    "E501",  # linhas longas: manter flexível por enquanto
    "F403",  # star imports legados
    "F821",  # nomes indefinidos em caminhos condicionais
]

[tool.ruff.per-file-ignores]
"tests/**/*" = ["D", "ANN", "S101"]
"tests/unit/core/test_auth_bootstrap_microfase.py" = ["E741", "F401"]
"tests/unit/modules/passwords/test_passwords_screen_ui.py" = ["F401", "F811", "F841"]
"tests/unit/modules/lixeira/test_lixeira_service.py" = ["E731"]

[tool.mypy]
ignore_missing_imports = true

[tool.deptry]
# analisa código-fonte somente
ignore = ["ajuda", "runtime", "build", "dist", ".venv", "tests", ".ruff_cache", ".pytest_cache"]
# mapeamento opcional de import->distribuição (adicione se precisar)
# [tool.deptry.package_module_name_map]
# "Pillow" = ["PIL"]

[tool.vulture]
paths = ["app_gui.py", "application", "gui", "ui", "core", "infra", "utils", "adapters", "shared"]
ignore_decorators = ["@overload"]
min_confidence = 80
